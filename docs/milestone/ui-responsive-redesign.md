# UI 响应式重构

**日期**: 2026-02-17

## 设计原则

以 `docs/prototype/login.html` 和 `docs/prototype/dashboard.html` 为设计原型，使用 Tailwind CSS v4 响应式断点实现自适应布局：

- `< 640px (sm)`: 移动端 — 单列布局、侧边栏抽屉模式
- `640px ~ 1024px (md/lg)`: 平板 — 双栏布局开始、卡片网格调整
- `>= 1024px (lg)`: 桌面/Kiosk — 完整布局、侧边栏常驻

## 变更内容

### LoginPage.vue
- **响应式双栏**: 移动端垂直布局（品牌面板在上），md+ 水平布局
- **品牌面板**: 移动端精简（隐藏 features 列表），md+ 完整展示
- **虚拟键盘**: 全宽适配，小屏减小间距和按键尺寸
- **Tab 切换**: 保留工牌感应 / 账号密码双模式

### AppLayout.vue
- **侧边栏**: lg+ 常驻显示 (240-256px)，小屏幕隐藏 + 抽屉模式
- **移动端顶栏**: 汉堡菜单按钮 + 标题，触发侧边栏抽屉
- **遮罩层**: 侧边栏展开时显示半透明遮罩，点击关闭
- **导航项**: 参照原型添加「运行状态」「系统设置」，路由高亮
- **退出登录**: 底部固定位置

### DashboardPage.vue — 完整重构参照原型
- **状态卡片**: 3 列网格 (lg)，2 列 (sm)，1 列 (mobile)
  - 今日交易数、网络延迟（颜色动态）、系统 CPU + 内存
  - 数据来自 `bridge.system.getSystemInfo()` 轮询 (5s)
- **硬件自检列表**: 参照原型实现
  - 4 个设备：凭条打印机/医保卡读卡器/发卡模块/人脸识别相机
  - 状态指示灯：在线(绿)/警告(黄)/故障(红) + 发光效果
  - 进度条（打印纸剩余量）
  - 移动端堆叠布局，sm+ 行内布局
- **设备控制**: 5 按钮网格（2 列 mobile → 3 列 sm → 5 列 lg）
  - 刷新页面 / 重启客户端 / 重启自助机 / 关闭客户端 / 关闭自助机
- **服务地址**: 响应式输入框 + 虚拟键盘

### VirtualKeyboard.vue
- 按键尺寸: mobile h-10 w-8 → sm h-12 w-12
- 功能键: mobile w-10 → sm w-14
- 圆角和间距: 小屏幕收紧

### ConfirmDialog.vue
- 移动端底部弹出 (items-end)，桌面端居中
- 按钮和间距响应式调整

## 验证
- TypeScript type-check: PASS
- Vitest (28 tests): PASS
- Vite production build: PASS
